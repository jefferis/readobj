<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read a Wavefront OBJ 3D scene file into an R list — read.obj • readobj</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read a Wavefront OBJ 3D scene file into an R list — read.obj" />
<meta property="og:description" content="Read a Wavefront OBJ 3D scene file into an R list" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">readobj</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jefferis/readobj/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read a Wavefront OBJ 3D scene file into an R list</h1>
    <small class="dont-index">Source: <a href='https://github.com/jefferis/readobj/blob/master/R/loadobj.R'><code>R/loadobj.R</code></a></small>
    <div class="hidden name"><code>read.obj.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Read a Wavefront OBJ 3D scene file into an R list</p>
    </div>

    <pre class="usage"><span class='fu'>read.obj</span><span class='op'>(</span><span class='va'>f</span>, materialspath <span class='op'>=</span> <span class='cn'>NULL</span>, convert.rgl <span class='op'>=</span> <span class='cn'>FALSE</span>, triangulate <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>f</th>
      <td><p>Path to an OBJ file</p></td>
    </tr>
    <tr>
      <th>materialspath</th>
      <td><p>Path to a folder containing materials files. This is
optional and only required if materials files are in a different folder
from the OBJ file defined by <code>f</code>.</p></td>
    </tr>
    <tr>
      <th>convert.rgl</th>
      <td><p>Whether to convert the returned list to a
<code>rgl::<a href='https://dmurdoch.github.io/rgl/dev/reference/shapelist3d.html'>shapelist3d</a></code> object containing
<code>rgl::<a href='https://dmurdoch.github.io/rgl/dev/reference/mesh3d.html'>mesh3d</a></code> objects.</p></td>
    </tr>
    <tr>
      <th>triangulate</th>
      <td><p>(default <code>TRUE</code>) Whether to convert all mesh faces to
triangles. Note that only meshes with triangular or quad faces are
supported, so setting <code>triangulate=FALSE</code> will throw an error for more
complex files.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>When <code>convert.rgl=FALSE</code>, the default, a named list with items
  <code>shapes</code> and <code>materials</code>, each containing sublists with one entry
  per object (shapes) or material (materials). Objects in the <code>shapes</code>
  list have the following structure</p><ul>
<li><p><code>positions</code> 3 x N matrix of 3D vertices</p></li>
<li><p><code>indices</code> 3/4 x M matrix of indices into vertex array
  (trimesh/quadmesh) 0-indexed</p></li>
<li><p><code>normals</code> 3 x N matrix of normal directions for each vertex
  (missing when there are no normals)</p></li>
<li><p><code>normindices</code> 3/4 x M matrix of indices into normals array
  (trimesh/quadmesh) 0-indexed (missing when there are no normals)</p></li>
<li><p><code>texcoords</code> 2 x N matrix of texture coordinates (missing when
  there are no texture coordinates)</p></li>
<li><p><code>texindices</code> 3/4 x M matrix of indices into <code>texcoords</code>
  array (trimesh/quadmesh) 0-indexed (missing when there are no texture
  coordinates)</p></li>
<li><p><code>nvfaces</code> Raw vector specifying the number of vertices per face
  (missing unless <code>triangulate=FALSE</code> and there are a mixture of
  different numbers of vertices per face.)</p></li>
<li><p><code>material_ids</code> 0-indexed, -1 when not set (missing when no
  materials)</p></li>
</ul>

<p>When <code>convert.rgl=TRUE</code> a list of class <code><a href='https://dmurdoch.github.io/rgl/dev/reference/shapelist3d.html'>shapelist3d</a></code>
  containing a <code><a href='https://dmurdoch.github.io/rgl/dev/reference/mesh3d.html'>mesh3d</a></code> for each object or group element in
  the original OBJ file. See <code><a href='tinyobj2shapelist3d.html'>tinyobj2shapelist3d</a></code> for details of
  rgl conversion.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>tinyobjloader</code> made some substantial changes to its data
  structures after the first code snapshot was taken for the this package in
  2015. In order to benefit from bug fixes, we updated the code in 2020 but
  we note that <code>tinyobjloader</code> now de-duplicates vertices more
  aggressively e.g. in the situation where there are normals or texture coordinates.
  We were forced when converting to <code>rgl::<a href='https://dmurdoch.github.io/rgl/dev/reference/shapelist3d.html'>shapelist3d</a></code> objects
  to revert these de-duplications on the R side
  in order for display in rgl; note that this only happens
  when there are texture coordinates and/or normals in the obj file.</p>
<p>Note that some fields in the <code>tinyobjloader</code> return structure will be
  omitted when they are not relevant for a given obj file. In this case, as
  with any R list, the list element will have the value <code>NULL</code> when
  tested. See examples.</p>
    <h2 class="hasAnchor" id="sample-files"><a class="anchor" href="#sample-files"></a>Sample files</h2>

    <p>Note that at the request of the CRAN maintainers the
  sample files have the file extension <code>.wavefront</code> instead of the
  standard <code>.obj</code> because this triggers a false positive R CMD check
  NOTE.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='tinyobj2shapelist3d.html'>tinyobj2shapelist3d</a></code>, <code>rgl::<a href='https://dmurdoch.github.io/rgl/dev/reference/writeOBJ.html'>readOBJ</a></code>
  for simpler, pure R implementation.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>cube</span><span class='op'>=</span><span class='fu'>read.obj</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"obj/cube.wavefront"</span>, package <span class='op'>=</span> <span class='st'>"readobj"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>cube</span><span class='op'>)</span>
</div><div class='output co'>#&gt; List of 2
#&gt;  $ shapes   :List of 6
#&gt;   ..$ front cube :List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 0 1 2 0 2 3
#&gt;   .. ..$ material_ids: int [1:2] 0 0
#&gt;   ..$ back cube  :List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 7 6 5 7 5 4
#&gt;   .. ..$ material_ids: int [1:2] 0 0
#&gt;   ..$ right cube :List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 3 2 6 3 6 7
#&gt;   .. ..$ material_ids: int [1:2] 1 1
#&gt;   ..$ top cube   :List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 4 0 3 4 3 7
#&gt;   .. ..$ material_ids: int [1:2] 0 0
#&gt;   ..$ left cube  :List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 4 5 1 4 1 0
#&gt;   .. ..$ material_ids: int [1:2] 2 2
#&gt;   ..$ bottom cube:List of 3
#&gt;   .. ..$ positions   : num [1:3, 1:8] 0 2 2 0 0 2 2 0 2 2 ...
#&gt;   .. ..$ indices     : int [1:3, 1:2] 1 5 6 1 6 2
#&gt;   .. ..$ material_ids: int [1:2] 0 0
#&gt;  $ materials:List of 5
#&gt;   ..$ white:List of 13
#&gt;   .. ..$ ambient         : num [1:3] 0 0 0
#&gt;   .. ..$ diffuse         : num [1:3] 1 1 1
#&gt;   .. ..$ specular        : num [1:3] 0 0 0
#&gt;   .. ..$ transmittance   : num [1:3] 0 0 0
#&gt;   .. ..$ emission        : num [1:3] 0 0 0
#&gt;   .. ..$ shininess       : num 1
#&gt;   .. ..$ ior             : num 1
#&gt;   .. ..$ dissolve        : num 1
#&gt;   .. ..$ illum           : int 0
#&gt;   .. ..$ ambient_texname : chr ""
#&gt;   .. ..$ diffuse_texname : chr ""
#&gt;   .. ..$ specular_texname: chr ""
#&gt;   .. ..$ normal_texname  : chr ""
#&gt;   ..$ red  :List of 13
#&gt;   .. ..$ ambient         : num [1:3] 0 0 0
#&gt;   .. ..$ diffuse         : num [1:3] 1 0 0
#&gt;   .. ..$ specular        : num [1:3] 0 0 0
#&gt;   .. ..$ transmittance   : num [1:3] 0 0 0
#&gt;   .. ..$ emission        : num [1:3] 0 0 0
#&gt;   .. ..$ shininess       : num 1
#&gt;   .. ..$ ior             : num 1
#&gt;   .. ..$ dissolve        : num 1
#&gt;   .. ..$ illum           : int 0
#&gt;   .. ..$ ambient_texname : chr ""
#&gt;   .. ..$ diffuse_texname : chr ""
#&gt;   .. ..$ specular_texname: chr ""
#&gt;   .. ..$ normal_texname  : chr ""
#&gt;   ..$ green:List of 13
#&gt;   .. ..$ ambient         : num [1:3] 0 0 0
#&gt;   .. ..$ diffuse         : num [1:3] 0 1 0
#&gt;   .. ..$ specular        : num [1:3] 0 0 0
#&gt;   .. ..$ transmittance   : num [1:3] 0 0 0
#&gt;   .. ..$ emission        : num [1:3] 0 0 0
#&gt;   .. ..$ shininess       : num 1
#&gt;   .. ..$ ior             : num 1
#&gt;   .. ..$ dissolve        : num 1
#&gt;   .. ..$ illum           : int 0
#&gt;   .. ..$ ambient_texname : chr ""
#&gt;   .. ..$ diffuse_texname : chr ""
#&gt;   .. ..$ specular_texname: chr ""
#&gt;   .. ..$ normal_texname  : chr ""
#&gt;   ..$ blue :List of 13
#&gt;   .. ..$ ambient         : num [1:3] 0 0 0
#&gt;   .. ..$ diffuse         : num [1:3] 0 0 1
#&gt;   .. ..$ specular        : num [1:3] 0 0 0
#&gt;   .. ..$ transmittance   : num [1:3] 0 0 0
#&gt;   .. ..$ emission        : num [1:3] 0 0 0
#&gt;   .. ..$ shininess       : num 1
#&gt;   .. ..$ ior             : num 1
#&gt;   .. ..$ dissolve        : num 1
#&gt;   .. ..$ illum           : int 0
#&gt;   .. ..$ ambient_texname : chr ""
#&gt;   .. ..$ diffuse_texname : chr ""
#&gt;   .. ..$ specular_texname: chr ""
#&gt;   .. ..$ normal_texname  : chr ""
#&gt;   ..$ light:List of 13
#&gt;   .. ..$ ambient         : num [1:3] 1 1 1
#&gt;   .. ..$ diffuse         : num [1:3] 1 1 1
#&gt;   .. ..$ specular        : num [1:3] 0 0 0
#&gt;   .. ..$ transmittance   : num [1:3] 0 0 0
#&gt;   .. ..$ emission        : num [1:3] 0 0 0
#&gt;   .. ..$ shininess       : num 1
#&gt;   .. ..$ ior             : num 1
#&gt;   .. ..$ dissolve        : num 1
#&gt;   .. ..$ illum           : int 0
#&gt;   .. ..$ ambient_texname : chr ""
#&gt;   .. ..$ diffuse_texname : chr ""
#&gt;   .. ..$ specular_texname: chr ""
#&gt;   .. ..$ normal_texname  : chr ""</div><div class='input'><span class='co'># elements will be NULL when not present in the obj file e.g. normals</span>
<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span><span class='op'>(</span><span class='va'>cube</span><span class='op'>$</span><span class='va'>shapes</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>$</span><span class='va'>texcoords</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># demonstrate direct conversion of result to rgl format</span>
<span class='kw'>if</span><span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/dmurdoch/rgl'>'rgl'</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>cuber</span><span class='op'>=</span><span class='fu'>read.obj</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"obj/cube.wavefront"</span>, package <span class='op'>=</span> <span class='st'>"readobj"</span><span class='op'>)</span>,
    convert.rgl<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://dmurdoch.github.io/rgl/dev/reference/shade3d.html'>shade3d</a></span><span class='op'>(</span><span class='va'>cuber</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: rgl</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis, Syoyo Fujita, Trevor L Davis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


